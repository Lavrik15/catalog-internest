(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{177:function(e,t,a){e.exports=a(335)},182:function(e,t,a){},206:function(e,t,a){},331:function(e,t,a){},333:function(e,t,a){},335:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(42),o=a.n(l),c=(a(182),a(184),a(85)),s=a(143),i=a(144),u=a(166),m=a(145),d=a(165),h=a(18),f=a(146),g=a.n(f),v=a(343),b=a(346),C=a(344),E=(a(206),function(e){var t=e.changeSort,a=e.searchValue,n=e.onChangeInput,l=e.onMinChange,o=e.onMaxChange,c=e.removeFilter,s=e.minCost,i=e.maxCost;return r.a.createElement("div",null,r.a.createElement("div",{className:"Sort ui grid stackable "},r.a.createElement("div",{className:"row"},r.a.createElement(v.a,{placeholder:"\u041f\u043e\u0438\u0441\u043a",className:"Sort__search four wide column",value:a,onChange:function(e){return n(e)}}),r.a.createElement("div",{className:"Sort__btn-group six wide column"},r.a.createElement(b.a,{className:"ui icon button",role:"button",onClick:function(){return t("title")}},r.a.createElement("i",{className:"sort alphabet down icon"})),r.a.createElement(b.a,{className:"ui icon button",role:"button",onClick:function(){return t("price")}},r.a.createElement("i",{className:"dollar sign icon"})),r.a.createElement("button",{className:"ui icon button",role:"button",onClick:function(){return t("discount")}},r.a.createElement("i",{className:"percent icon"})),r.a.createElement("span",{className:"ui icon button",role:"button",onClick:function(){return c()}},"\u0443\u0431\u0440\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b",r.a.createElement("i",{className:"cancel icon"}))),r.a.createElement("div",{className:"Sort__Range four wide column fields"},r.a.createElement(C.a,null,r.a.createElement(C.a.Group,{widths:"equal"},r.a.createElement(C.a.Input,{type:"number",min:"0",placeholder:"\u043c\u0438\u043d. \u0440\u0443\u0431.)",label:"\u043c\u0438\u043d. \u0440\u0443\u0431.",fluid:!0,value:s,onChange:function(e){return l(e)}}),r.a.createElement(C.a.Input,{type:"number",min:"0",placeholder:"\u043c\u0430\u043a\u0441. \u0440\u0443\u0431.",label:"\u043c\u0430\u043a\u0441. \u0440\u0443\u0431.",fluid:!0,value:i,onChange:function(e){return o(e)}})))))))}),O=a(66),p=a(345),S=(a(331),a(164)),I=function(e){var t=e.data,a=Object(S.a)(t,1)[0];return a?r.a.createElement(p.a.Row,{key:a.data.id},r.a.createElement(p.a.Cell,null,a.data.id),r.a.createElement(p.a.Cell,null,a.data.title),r.a.createElement(p.a.Cell,null,r.a.createElement("img",{className:"Table__Single",src:a.data.base_url,alt:""})),r.a.createElement(p.a.Cell,null,a.data.price),r.a.createElement(p.a.Cell,null,a.data.discount,"%")):null},w={none:function(e){return e},title:function(e){return Object(O.sortBy)(e,function(e){return e.data.title})},price:function(e){return Object(O.sortBy)(e,function(e){return e.data.price})},discount:function(e){return Object(O.sortBy)(e,function(e){return e.data.discount})}},y=function(e){var t=e.goods,a=e.sortType,n=e.isReverseOff,l=e.searchValue,o=(e.isSearchIdMatched,e.searchId,e.itemsOnPage),c=e.showMoreItems,s=e.minCost,i=e.maxCost,u=!1,m=l.toLowerCase().trim(),d=(n&&"discount"!==a?w[a](t):w[a](t).reverse()).filter(function(e){var t=e.data,a=t.title,n=t.id;return n===m&&(u=!0),a.toLowerCase().includes(m)||n===m}).filter(function(e){var t=e.data.price;return t>=Number(s)&&(!i||t<=Number(i))});return r.a.createElement(p.a,{className:"Table",celled:!0},r.a.createElement(p.a.Header,null,r.a.createElement(p.a.Row,null,r.a.createElement(p.a.HeaderCell,null,"id"),r.a.createElement(p.a.HeaderCell,null,"title"),r.a.createElement(p.a.HeaderCell,null,"image"),r.a.createElement(p.a.HeaderCell,null,"price"),r.a.createElement(p.a.HeaderCell,null,"sale"))),r.a.createElement(p.a.Body,null,u?r.a.createElement(I,{data:d}):d.slice(0,o).map(function(e){var t=e.data;return r.a.createElement(p.a.Row,{key:t.id},r.a.createElement(p.a.Cell,null,t.id),r.a.createElement(p.a.Cell,null,t.title),r.a.createElement(p.a.Cell,null,r.a.createElement("img",{className:"Table__image",src:t.base_url,alt:""})),r.a.createElement(p.a.Cell,null,t.price),r.a.createElement(p.a.Cell,null,t.discount,"%"))})),r.a.createElement(p.a.Footer,null,r.a.createElement(p.a.Row,null,r.a.createElement(p.a.HeaderCell,{colSpan:"5"},d.length>=o?r.a.createElement(b.a,{onClick:function(){return c()}},"\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435"):r.a.createElement(b.a,{disabled:!0},"\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435")))))},j=(a(333),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={goods:null,sortType:"none",isReverseOff:!0,searchValue:"",searchId:!1,itemsOnPage:5,defaultItemsOnPage:5,minCost:0,maxCost:0},a.setGoods=a.setGoods.bind(Object(h.a)(Object(h.a)(a))),a.changeSort=a.changeSort.bind(Object(h.a)(Object(h.a)(a))),a.onChangeInput=a.onChangeInput.bind(Object(h.a)(Object(h.a)(a))),a.isSearchIdMatched=a.isSearchIdMatched.bind(Object(h.a)(Object(h.a)(a))),a.showMoreItems=a.showMoreItems.bind(Object(h.a)(Object(h.a)(a))),a.onMinChange=a.onMinChange.bind(Object(h.a)(Object(h.a)(a))),a.onMaxChange=a.onMaxChange.bind(Object(h.a)(Object(h.a)(a))),a.removeFilter=a.removeFilter.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchGoods(),window.addEventListener("beforeunload",this.saveStateToLocalStorage.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.saveStateToLocalStorage.bind(this)),this.saveStateToLocalStorage()}},{key:"fetchGoods",value:function(){var e=this;JSON.parse(localStorage.getItem("goods"))?this.hydrateStateWithLocalStorage():g()({method:"get",url:"./shop.json",timeout:1e4}).then(function(t){return e.setGoods(t.data)}).catch(function(t){return e.setState({error:t})})}},{key:"setGoods",value:function(e){this.setState(e)}},{key:"saveStateToLocalStorage",value:function(){for(var e in this.state)localStorage.setItem(e,JSON.stringify(this.state[e]))}},{key:"hydrateStateWithLocalStorage",value:function(){for(var e in this.state)if(localStorage.hasOwnProperty(e)){var t=localStorage.getItem(e);try{t=JSON.parse(t),this.setState(Object(c.a)({},e,t))}catch(a){this.setState(Object(c.a)({},e,t))}}}},{key:"changeSort",value:function(e){this.setState({sortType:e,isReverseOff:!this.state.isReverseOff})}},{key:"onChangeInput",value:function(e){var t=e.target.value;this.setState({searchValue:t,itemsOnPage:this.state.defaultItemsOnPage})}},{key:"isSearchIdMatched",value:function(e){this.setState({searchId:e,itemsOnPage:this.state.defaultItemsOnPage})}},{key:"showMoreItems",value:function(){var e=this.state.itemsOnPage;this.setState({itemsOnPage:e+e})}},{key:"onMinChange",value:function(e){var t=e.target.value;this.setState({minCost:t,itemsOnPage:this.state.defaultItemsOnPage})}},{key:"onMaxChange",value:function(e){var t=e.target.value,a=""===t?1/0:t;this.setState({maxCost:a,itemsOnPage:this.state.defaultItemsOnPage})}},{key:"removeFilter",value:function(){this.setState({sortType:"none",isReverseOff:!0,searchValue:"",searchId:!1,itemsOnPage:5,defaultItemsOnPage:5,minCost:0,maxCost:0})}},{key:"render",value:function(){var e=this.state,t=e.goods,a=e.sortType,n=e.isReverseOff,l=e.searchValue,o=e.searchId,c=e.itemsOnPage,s=e.minCost,i=e.maxCost;return r.a.createElement("div",{className:"App"},t?r.a.createElement("div",null,r.a.createElement(E,{changeSort:this.changeSort,onChangeInput:this.onChangeInput,onMinChange:this.onMinChange,onMaxChange:this.onMaxChange,removeFilter:this.removeFilter,searchValue:l,minCost:s,maxCost:i}),r.a.createElement(y,{goods:t,sortType:a,isReverseOff:n,searchValue:l,isSearchIdMatched:this.isSearchIdMatched,searchId:o,itemsOnPage:c,showMoreItems:this.showMoreItems,minCost:s,maxCost:i})):r.a.createElement("h1",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[177,2,1]]]);
//# sourceMappingURL=main.464eec68.chunk.js.map